# لوحة إدارة نظام المياه

لوحة إدارة شاملة لنظام إدارة فواتير المياه، مبنية باستخدام Next.js و TypeScript.

## المميزات

### إدارة المستخدمين
- عرض جميع المستخدمين
- إضافة مستخدمين جدد
- تعديل بيانات المستخدمين
- حذف المستخدمين

### إدارة الأحياء والمربعات
- إدارة الأحياء (إضافة، تعديل، حذف)
- إدارة المربعات (إضافة، تعديل، حذف)
- ربط المربعات بالأحياء
- تصدير بيانات المربعات إلى Excel

### إدارة المنازل
- عرض جميع المنازل مع تفاصيلها
- إضافة منازل جديدة
- تعديل بيانات المنازل
- حذف المنازل
- تتبع حالة الدفع

### إدارة أنواع الدفع
- تعديل مبالغ أنواع الدفع الثلاثة:
  - عداد صغير (5000 جنيه)
  - عداد متوسط (10000 جنيه)
  - عداد كبير (15000 جنيه)

### لوحة التحكم
- إحصائيات شاملة للنظام
- عرض حالة الدفع
- إجمالي الإيرادات
- نسب الإنجاز

## التقنيات المستخدمة

- **Next.js 15** - إطار عمل React
- **TypeScript** - لغة البرمجة
- **Tailwind CSS** - للتصميم
- **Prisma** - لإدارة قاعدة البيانات
- **Axios** - لطلبات API
- **React Hook Form** - لإدارة النماذج
- **Zod** - للتحقق من صحة البيانات
- **Lucide React** - للأيقونات
- **Radix UI** - لمكونات الواجهة
- **XLSX** - لتصدير Excel

## التثبيت والتشغيل

### المتطلبات
- Node.js 18+
- npm أو yarn
- قاعدة بيانات PostgreSQL

### خطوات التثبيت

1. **تثبيت التبعيات:**
```bash
npm install
```

2. **إعداد متغيرات البيئة:**
```bash
cp .env.example .env.local
```

3. **تعديل ملف .env.local:**
```env
DATABASE_URL="postgresql://username:password@localhost:5432/watergb"
DIRECT_URL="postgresql://username:password@localhost:5432/watergb"
JWT_SECRET="your-jwt-secret-key"
NEXT_PUBLIC_API_URL="http://localhost:3001"
ADMIN_USERNAME="admin"
ADMIN_PASSWORD="admin123"
```

4. **إعداد قاعدة البيانات:**
```bash
npx prisma generate
npx prisma db push
```

5. **تشغيل الخادم:**
```bash
npm run dev
```

6. **فتح المتصفح:**
```
http://localhost:3000
```

## الاستخدام

### تسجيل الدخول
- استخدم بيانات المدير الافتراضية:
  - اسم المستخدم: `admin`
  - كلمة المرور: `admin123`

### التنقل
- **لوحة التحكم**: نظرة عامة على النظام
- **المستخدمين**: إدارة المستخدمين
- **الأحياء**: إدارة الأحياء
- **المربعات**: إدارة المربعات مع إمكانية التصدير
- **المنازل**: إدارة المنازل
- **أنواع الدفع**: تعديل مبالغ الدفع
- **الإعدادات**: إعدادات النظام

### تصدير البيانات
- يمكن تصدير بيانات المربعات إلى ملف Excel
- يتضمن التصدير: اسم المربع، الحي، عدد المنازل، حالة الدفع، الإيرادات

## الأمان

- مصادقة JWT للمستخدمين
- تشفير كلمات المرور
- حماية من CSRF
- التحقق من صحة البيانات

## الدعم

للحصول على الدعم أو الإبلاغ عن مشاكل، يرجى التواصل مع فريق التطوير.

## الترخيص

هذا المشروع مرخص تحت رخصة MIT.